# set the verbosity of the run
/control/verbose                                     1
/run/verbose                                         1
/event/verbose                                       0

# set up the geometry of the beamline
/det/setCollimatorInnerRadius                        4.9 mm
/det/setAbsorberDepth                                20 um
/det/setAbsorberMaterial                             G4_AIR
/det/setWaterTankConstruction                        true
#/det/setWaterTankWindowThickness                     1 mm
/det/update  

# set the physics to be used
/phys/addPhysics                                     QGSP_BERT_HP
/phys/setWorldCuts                                   0.7 mm
#/phys/setAbsorberCuts                                0.001 mm
#/phys/setWaterTankCuts                               0.001 mm

# define histogram names
/histo/setFileName                                   run_wt_38MeV
/histo/setFileType                                   root

#set the particle properties
/gps/particle                                        proton
/gps/pos/type                                        Beam
/gps/pos/shape                                       Circle
/gps/pos/centre                                      0.0 0.0 -500.0 cm
/gps/pos/radius                                      5 mm
/gps/direction                                       0 0 1

/gps/energy                                          36.6 MeV
/gps/ene/type                                        Gauss
/gps/ene/sigma                                       0.15 MeV

/gps/pos/radius                                      1.0 mm
/gps/pos/sigma_r                                     0.1 mm

/gps/ang/type                                        beam2d
/gps/ang/sigma_x                                     1.6 mrad
/gps/ang/sigma_y                                     1.6 mrad
/gps/ang/rot1                                        -1. 0. 0.

#define the visulation
/vis/open                                            OGLI

# set camera options
/vis/viewer/reset
/vis/viewer/set/viewpointThetaPhi                    90 0
#/vis/viewer/set/viewpointVector                                 0 0 1
/vis/viewer/set/style                                w
#create a new scene
/vis/scene/create
#draw world volume
/vis/scene/add/volume
/vis/scene/add/trajectories                         smooth
/vis/modeling/trajectories/create/drawByCharge
#attach scene to handler
/vis/sceneHandler/attach
/vis/scene/endOfEventAction accumulate              10
# Re-establish auto refreshing and verbosity:
/vis/viewer/set/autoRefresh true
/vis/verbose warnings

# finally run the beam	
/run/initialize
/run/beamOn                                          1
