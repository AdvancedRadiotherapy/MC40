# set the verbosity of the run
/control/verbose 1
/run/verbose 1
/event/verbose 0

# set the thickness of the absorber
/det/setAbsorberDepth 20 mm
/det/setAbsorberMaterial Perspex
/det/update  

# define histogram names
/histo/setFileName proton-29.4MeV_spread0.3MeV_abs-20mmPerspex_bs-pencil
/histo/setFileType root

#set the particle properties
/gps/particle proton
/gps/direction 0 0 1
/gps/position 0.0 0.0 -30.0 cm
/gps/energy 29.4 MeV
/gps/ene/type Gauss
/gps/ene/sigma 0.3 MeV

#define the visulation
#/vis/open OGLIX
/vis/open DAWNFILE

# set camera options
/vis/viewer/reset
/vis/viewer/set/viewpointThetaPhi 70 20
#/vis/viewer/set/viewpointThetaPhi 90 0
/vis/viewer/set/style w

#create a new scene
/vis/scene/create

#draw world volume
/vis/scene/add/volume
/vis/scene/add/trajectories smooth
/vis/modeling/trajectories/create/drawByCharge
#/vis/modeling/trajectories/drawByCharge-0/default/setDrawStepPts true
#/vis/modeling/trajectories/drawByCharge-0/default/setStepPtsSize 1

#/vis/scene/add/hits

#attach scene to handler
/vis/sceneHandler/attach

#store trajectories for vis
#/tracking/storeTrajectory 1

#/vis/drawVolume
#/vis/scene/add/axes 0 0 0 50 cm

/vis/scene/endOfEventAction accumulate 10

# Execute the visulations
#/vis/viewer/flush

# Re-establish auto refreshing and verbosity:
/vis/viewer/set/autoRefresh true
/vis/verbose warnings

/geometry/test/cylinder_test true

# finally run the beam
/run/beamOn 1

#/vis/viewer/flush
